{"version":3,"sources":["node_modules/browser-pack/_prelude.js","build/js/my/app.js"],"names":[],"mappings":"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","file":"app.min.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\r\n\r\ndocument.addEventListener('DOMContentLoaded', function(){  \r\n\r\n  // function Btn(width, height) {\r\n  //   this.width = width || 50;\r\n  //   this.height = height || 50;\r\n  //   this.elm = null;\r\n  // }\r\n\r\n  // Btn.prototype.render = function(whare){\r\n  //   if (this.elm) {\r\n  //     this.elm.style.width = this.width + 'px';\r\n  //     this.elm.style.height = this.height + 'px';\r\n  //   }\r\n\r\n  //   whare.appendChild(this.elm);\r\n  // }\r\n\r\n  // function button(width, height, text){\r\n  //   Btn.call(this, width, height);\r\n\r\n  //   this.text = text || 'Default';\r\n  //   var btn = document.createElement('BUTTON');\r\n  //   var label = document.createTextNode(text);\r\n\r\n  //   btn.appendChild(label);\r\n  //   this.elm = btn;\r\n  // }\r\n\r\n  // button.prototype = Object.create( Btn.prototype );\r\n  // // button.prototype.constructor = button;\r\n\r\n  // button.prototype.render = function(whare){\r\n  //   Btn.prototype.render.call(this, whare);\r\n\r\n  //   this.elm.addEventListener('click', this.onClick.bind(this), false);\r\n  // }\r\n\r\n  // button.prototype.onClick = function(e) {\r\n\r\n  //   var paragraph = document.createElement('P');\r\n  //   var label = document.createTextNode(this.text);\r\n  //   paragraph.appendChild(label);\r\n  //   document.body.appendChild(paragraph);\r\n  //   console.log(`button ${this.text} clicked`);\r\n  // }\r\n\r\n  // var btn1 = new button('100', '50', 'button 1');\r\n  // var btn2 = new button('130', '50', 'button 2');\r\n\r\n  // btn1.render(document.body);\r\n  // btn2.render(document.body);\r\n\r\n  //OOLO pattern\r\n\r\n  // var Btn = {\r\n  //   init: function(width, height) {\r\n  //     this.width = width;\r\n  //     this.height = height;\r\n  //     this.elm = null;\r\n  //   },\r\n\r\n  //   render: function(whare) {\r\n  //     if (this.elm) {\r\n  //       this.elm.style.width = this.width + 'px';\r\n  //       this.elm.style.height = this.height + 'px';\r\n  //     }\r\n  //     whare.appendChild(this.elm);\r\n  //   }\r\n  // }\r\n\r\n  // var Button = Object.create(Btn);\r\n\r\n  // Button.setup = function(width, height, text) {\r\n  //   this.init(width, height);\r\n  //   this.text = text || 'Default';\r\n\r\n  //   var btn = document.createElement('BUTTON');\r\n  //   var label = document.createTextNode(text);\r\n  //   btn.appendChild(label);\r\n\r\n  //   this.elm = btn;\r\n  // }\r\n\r\n  // Button.build = function(whare) {\r\n  //   this.render(whare);\r\n  //   this.elm.addEventListener('click', this.onClick.bind(this));\r\n  // }\r\n\r\n  // Button.onClick = function(e) {\r\n  //   console.log(this.text);\r\n  // }\r\n\r\n  // var btn1 = Object.create( Button );\r\n  // btn1.setup('120', '30', 'button 1');\r\n\r\n  // var btn2 = Object.create( Button );\r\n  // btn2.setup('200', '50', 'button 2');\r\n\r\n  // btn1.build(document.body);\r\n  // btn2.build(document.body);\r\n\r\n\r\n  function Link(link) {\r\n    this.link = link;\r\n  }\r\n\r\n  Link.prototype.getNode = function() {\r\n    var li = document.createElement('a');\r\n    li.style.cursor = 'pointer';\r\n    li.classList.add('list-group-item');\r\n    li.innerText = this.link;\r\n\r\n    return li;\r\n  }\r\n\r\n\r\n  function Menu(links) {\r\n    this.links = links.map(function(link){\r\n      return new Link(link);\r\n    });\r\n  }\r\n\r\n  Menu.prototype.getNode = function(){\r\n    var container = document.createElement('div');\r\n    container.classList.add('list-group');\r\n\r\n    this.links.forEach(function(link){\r\n      container.appendChild(link.getNode());\r\n    });\r\n\r\n    return container;\r\n  }\r\n\r\n\r\n  function ContextMenu(links) {\r\n    Menu.call(this, links);\r\n    this.container = this.render();\r\n    this.listener();\r\n  }\r\n\r\n  ContextMenu.prototype = Object.create( Menu.prototype );\r\n  ContextMenu.prototype.constructor = ContextMenu;\r\n\r\n  ContextMenu.getCoords = function(elm) {\r\n    let box = elm.getBoundingClientRect();\r\n\r\n    return {\r\n      top: box.top,\r\n      left: box.left,\r\n      right: document.body.clientWidth - box.right,\r\n      bottom: document.body.clientHeight - box.bottom,\r\n      width: box.right - box.left,\r\n      height: box.bottom - box.top\r\n    }\r\n  }\r\n\r\n  ContextMenu.prototype.getNode = function() {\r\n    console.log(this);\r\n    return Menu.prototype.getNode.call(this);\r\n  }\r\n\r\n  ContextMenu.prototype.render = function(whare = document.body) {\r\n    var container = document.createElement('div');\r\n    container.classList.add('contextmenu', 'hidden');\r\n    container.appendChild(Menu.prototype.getNode.call(this));\r\n    whare.appendChild(container);\r\n    return container;\r\n  }\r\n\r\n  ContextMenu.prototype.show = function(evt){\r\n    evt.preventDefault();\r\n    let menuNode = this.container;\r\n    \r\n    if (evt.type !== 'click') {\r\n      menuNode.classList.toggle('hidden');\r\n    } else {\r\n      menuNode.classList.add('hidden');\r\n    }\r\n    this.coodrs(evt);\r\n  }\r\n\r\n  ContextMenu.prototype.coodrs = function(evt){\r\n    evt.preventDefault();\r\n    let menuNode = this.container;\r\n    \r\n    let pos = {\r\n      'x': evt.x,\r\n      'y': evt.y\r\n    }\r\n    \r\n    menuNode.style.top = `${pos.y}px`;\r\n    menuNode.style.left = `${pos.x}px`;\r\n    let coords = this.constructor.getCoords;\r\n\r\n    console.log(`top: ${coords(menuNode).top}, right ${coords(menuNode).right}, bottom ${coords(menuNode).bottom}, left ${coords(menuNode).left}`);\r\n\r\n    if (coords(menuNode).right < 0) {\r\n      menuNode.style.left = `${pos.x - coords(menuNode).width}px`;\r\n      console.log('out right!');\r\n    }\r\n\r\n    if(coords(menuNode).bottom < 0) {\r\n      menuNode.style.top = `${pos.y - coords(menuNode).height}px`;\r\n      console.log('out bottom!');\r\n    }\r\n  }\r\n\r\n  ContextMenu.prototype.listener = function() {\r\n    let menu = ContextMenu.prototype.show.bind(this);\r\n    let menuCoords = ContextMenu.prototype.coodrs.bind(this);\r\n\r\n    document.body.addEventListener('click', menu, false);\r\n    document.body.addEventListener('contextmenu', menu, false);\r\n  }\r\n\r\n  new ContextMenu(['menu item 1', 'menu item 2', 'menu item 3']);\r\n});"]}